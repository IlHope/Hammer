# Django Referral Auth API

Система входа по номеру телефона с верификацией кода и возможностью приглашать других пользователей через реферальный код.

## Методы API

| Метод    | URL                         | Описание                  							 |
|----------|-----------------------------|-------------------------------------------------------|
| 'POST'   | '/api/apply-invite/'        | Применение инвайт-кода   							 |
| 'GET'    | '/api/profile/<id>/'        | Получение информации о профиле по ID  				 | 		 					 |
| 'GET'    | '/api/profile/my-referrals' | Получение списка пользователей, приглашенных текущим  |
| 'POST'   | '/api/send-code' 			 | Запрос на получение кода по номеру телефона  		 |
| 'POST'   | '/api/verify-code' 		 | Применение кода аутентификации  						 |

## POST /api/apply-invite/
Применяет инвайт-код, введенный пользователем.
Тело запроса:
{
  "id": 42,
  "invite_code": "XJHD22"
}
Ответы:
- 200 OK: Инвайт-код успешно применён.
- 400 Bad Request: Отсутствует код или пользователь уже использовал код.
- 404 Not Found: Пользователь не найден или код недействителен.

## GET /api/profile/<id>/
Возвращает данные о пользователе по его ID.
Тело запроса:
{
  "id": 5,
  "phone_number": "+79998887766",
  "invite_code": "ABC123",
  "is_active_referral": true
}
Ответы:
- 201 Created: Профиль найден.
- 404 Not Found: Профиль не существует.

## GET /api/profile/my-referrals/
Возвращает список пользователей, приглашенных текущим пользователем.
Тело запроса:
{
  { "id": 7, "phone_number": "+79990001122" },
  { "id": 8, "phone_number": "+79995554433" }
}
Ответы:
- 200 OK: Список успешно возвращен.
- 401 Unauthorized: Пользователь не авторизован.

## POST /api/send-code/
Отправляет код подтверждения на указанный номер телефона.
Тело запроса:
{
  "phone_number": "+79998887766"
}
Ответы:
- 200 OK: Код успешно отправлен.
- 400 Bad Request: Неверный номер.

## POST /api/verify-code/
Проверяет код подтверждения и авторизует пользователя.
Тело запроса:
{
  "phone_number": "+79998887766",
  "auth_code": "1234"
}
Ответы:
- 200 OK: Код подтвержден, пользователь авторизован.
- 400 Bad Request: Неверный код или номер.



Подробная документация доступна по адресу:  
[`/redoc/`](http://localhost:8000/api/docs/redoc/)